<?xml version="1.0"?>
<!-- This file is part of Tryton.  The COPYRIGHT file at the top level of
this repository contains the full copyright notices and license terms. -->
<tryton>
    <data>

        <record model="workflow" id="voucher_workflow">
            <field name="name">Account Voucher</field>
            <field name="model">account.voucher</field>
            <field name="on_create" eval="True"/>
        </record>
        <record model="workflow.activity" id="act_voucher_draft">
            <field name="name">Draft</field>
            <field name="workflow" ref="voucher_workflow"/>
            <field name="kind">function</field>
            <field name="action">write({'state': 'draft'})</field>
            <field name="flow_start" eval="True"/>
        </record>
        <record model="workflow.activity" id="act_voucher_posted">
            <field name="name">Posted</field>
            <field name="workflow" ref="voucher_workflow"/>
            <field name="kind">function</field>
            <field name="action">action_paid()</field>
        </record>

        <record model="workflow.activity" id="act_voucher_cancel">
            <field name="name">Cancel</field>
            <field name="workflow" ref="voucher_workflow"/>
            <field name="kind">function</field>
            <field name="action">action_cancel()</field>
        </record>


        <record model="workflow.transition" id="voucher_transition_draft_posted">
            <field name="act_from" ref="act_voucher_draft"/>
            <field name="act_to" ref="act_voucher_posted"/>
            <field name="signal">posted</field>
        </record>
        <record model="workflow.transition" id="voucher_transition_draft_cancel">
            <field name="act_from" ref="act_voucher_draft"/>
            <field name="act_to" ref="act_voucher_cancel"/>
            <field name="signal">cancel</field>
        </record>

    </data>
</tryton>
